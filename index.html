<!DOCTYPE html>
<html>
    
<head>
    <!--annyang script-->
    <script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.1/annyang.min.js"></script>
    <!--my stylesheet-->
    <link rel="stylesheet" href="styles.css">
    <!--animate css-->
    <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />

    <!-- AUTO REFRESH -->
    <meta http-equiv="refresh" content="3600; URL=https://austinhuynh.github.io/framed/">

    <!-- RANDOM COLOR -->
    <script>
      function randomColor(brightness){
        function randomChannel(brightness){
          var r = 255-brightness;
          var n = 0|((Math.random() * r) + brightness);
          var s = n.toString(16);
          return (s.length==1) ? '0'+s : s;
        }
        return '#' + randomChannel(brightness) + randomChannel(brightness) + randomChannel(brightness);
      }
    </script>

    <!-- RANDOM ROATION (NOT UPSIDE DOWN) -->
    <script>
      function genRotation() {
        var diff = 314 - 46;
        var rotation = Math.floor((Math.random() * (359 - diff)));
        if(rotation >= 46){
          rotation += diff;
        }

        return rotation;
      }
    </script>

    <!-- PLACE WORDS -->
    <script>
      function placeWord(word) {
        var fullWidth = window.innerWidth;
        var fullHeight = window.innerHeight;
        //var rotation = Math.floor(Math.random() * (359));

        var elem = document.createElement("div");
        elem.textContent = word;
        elem.style.color = randomColor(100);
        elem.style.transform = "rotate(" + genRotation() + "deg)"; 
        elem.className = "animate__animated animate__fadeIn speech noselect";
        elem.style.position = "absolute";
        elem.style.left = Math.round(Math.random() * fullWidth) + "px";
        elem.style.top = Math.round(Math.random() * fullHeight) + "px";
        document.body.appendChild(elem);
      }
    </script>
    
</head>
    
<body style="background-color:#121212">

<script>

    if (annyang) {
      // Let's define a command.
      const commands = {
      };
    
      // Add our commands to annyang
      annyang.addCommands(commands);

      annyang.addCallback('result', function(phrases) {
      console.log("I think the user said: ", phrases[0]);
      console.log("But then again, it could be any of the following: ", phrases);
      placeWord(phrases[0]);
    });
      // Start listening.
      annyang.start();
    }
</script>


</body>
</html>